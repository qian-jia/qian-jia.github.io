<!DOCTYPE html><html lang="en" class="scroll-smooth"> <head><!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-0LQFV6XC8X"></script><meta name="google-site-verification" content="SYp7WsrdYEIG8YS2C-Cd50mjNa5ZowYwERnE8jKAgoE"><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><!-- <link rel="icon" type="image/svg+xml" href="/favicon.svg" /> --><link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="manifest" href="/manifest.json"><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/ms-icon-144x144.png"><link rel="canonical" href="https://qian-jia.github.io/posts/python-regular-expression/"><meta name="generator" content="Astro v4.1.1"><!-- General Meta Tags --><title>Python笔记：正则表达式</title><meta name="title" content="Python笔记：正则表达式"><meta name="description" content="正则表达式学习记录"><meta name="author" content="Qian Jia"><link rel="sitemap" href="/sitemap-index.xml"><!-- Open Graph / Facebook --><meta property="og:title" content="Python笔记：正则表达式"><meta property="og:description" content="正则表达式学习记录"><meta property="og:url" content="https://qian-jia.github.io/posts/python-regular-expression/"><meta property="og:image" content="https://qian-jia.github.io/"><!-- Article Published/Modified time --><meta property="article:published_time" content="2018-04-17T18:37:56.000Z"><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://qian-jia.github.io/posts/python-regular-expression/"><meta property="twitter:title" content="Python笔记：正则表达式"><meta property="twitter:description" content="正则表达式学习记录"><meta property="twitter:image" content="https://qian-jia.github.io/"><!-- Google Font --><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@0,400;0,500;0,600;0,700;1,400;1,600&display=swap" rel="stylesheet"><meta name="theme-color" content=""><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><script src="/toggle-theme.js"></script><style>.breadcrumb:where(.astro-ilhxcym7){margin-left:auto;margin-right:auto;margin-bottom:.25rem;margin-top:2rem;width:100%;max-width:48rem;padding-left:1rem;padding-right:1rem}.breadcrumb:where(.astro-ilhxcym7) ul:where(.astro-ilhxcym7) li:where(.astro-ilhxcym7){display:inline}.breadcrumb:where(.astro-ilhxcym7) ul:where(.astro-ilhxcym7) li:where(.astro-ilhxcym7) a:where(.astro-ilhxcym7){text-transform:capitalize;opacity:.7}.breadcrumb:where(.astro-ilhxcym7) ul:where(.astro-ilhxcym7) li:where(.astro-ilhxcym7) span:where(.astro-ilhxcym7){opacity:.7}.breadcrumb:where(.astro-ilhxcym7) ul:where(.astro-ilhxcym7) li:where(.astro-ilhxcym7):not(:last-child) a:where(.astro-ilhxcym7):hover{opacity:1}
</style>
<link rel="stylesheet" href="/_astro/about.cIpeiEy1.css" />
<style>#main-content:where(.astro-hsp6otuf){margin-left:auto;margin-right:auto;width:100%;max-width:48rem;padding-left:1rem;padding-right:1rem;padding-bottom:1rem}#main-content:where(.astro-hsp6otuf) h1:where(.astro-hsp6otuf){font-size:1.5rem;line-height:2rem;font-weight:600}@media (min-width: 640px){#main-content:where(.astro-hsp6otuf) h1:where(.astro-hsp6otuf){font-size:1.875rem;line-height:2.25rem}}#main-content:where(.astro-hsp6otuf) p:where(.astro-hsp6otuf){margin-bottom:1.5rem;margin-top:.5rem;font-style:italic}
a:where(.astro-blwjyjpt){position:relative;text-decoration-line:underline;text-decoration-style:dashed}a:where(.astro-blwjyjpt):hover{top:-.125rem;--tw-text-opacity: 1;color:rgba(var(--color-accent),var(--tw-text-opacity))}a:where(.astro-blwjyjpt):focus-visible{padding:.25rem}a:where(.astro-blwjyjpt) svg:where(.astro-blwjyjpt){margin-right:-1.25rem;height:1.5rem;width:1.5rem;--tw-scale-x: .95;--tw-scale-y: .95;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));--tw-text-opacity: 1;color:rgba(var(--color-text-base),var(--tw-text-opacity));opacity:.8}.group:where(.astro-blwjyjpt):hover a:where(.astro-blwjyjpt) svg:where(.astro-blwjyjpt){fill:rgb(var(--color-accent))}
@keyframes astroFadeInOut{0%{opacity:1}to{opacity:0}}@keyframes astroFadeIn{0%{opacity:0}}@keyframes astroFadeOut{to{opacity:0}}@keyframes astroSlideFromRight{0%{transform:translate(100%)}}@keyframes astroSlideFromLeft{0%{transform:translate(-100%)}}@keyframes astroSlideToRight{to{transform:translate(100%)}}@keyframes astroSlideToLeft{to{transform:translate(-100%)}}@media (prefers-reduced-motion){::view-transition-group(*),::view-transition-old(*),::view-transition-new(*){animation:none!important}[data-astro-transition-scope]{animation:none!important}}
.pagination-wrapper:where(.astro-d776pwuy){margin-bottom:2rem;margin-top:auto;display:flex;justify-content:center}.disabled:where(.astro-d776pwuy){pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;opacity:.5}.disabled:where(.astro-d776pwuy):hover{--tw-text-opacity: 1;color:rgba(var(--color-text-base),var(--tw-text-opacity))}.group:where(.astro-d776pwuy):hover .disabled:where(.astro-d776pwuy){fill:rgb(var(--color-text-base))}.group:where(.astro-d776pwuy):hover .disabled-svg:where(.astro-d776pwuy){fill:rgb(var(--color-text-base))!important}
main:where(.astro-vj4tpspi){margin-left:auto;margin-right:auto;width:100%;max-width:48rem;padding-left:1rem;padding-right:1rem;padding-bottom:3rem}.post-title:where(.astro-vj4tpspi){font-size:1.5rem;line-height:2rem;font-weight:600;--tw-text-opacity: 1;color:rgba(var(--color-accent),var(--tw-text-opacity))}
</style><script type="module" src="/_astro/hoisted.PYnCuTNO.js"></script><style>[data-astro-transition-scope="astro-plk3gbjq-1"] { view-transition-name: python; }@layer astro { ::view-transition-old(python) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }::view-transition-new(python) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back]::view-transition-old(python) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back]::view-transition-new(python) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; } }[data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-plk3gbjq-1"],
			[data-astro-transition-fallback="old"][data-astro-transition-scope="astro-plk3gbjq-1"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-plk3gbjq-1"],
			[data-astro-transition-fallback="new"][data-astro-transition-scope="astro-plk3gbjq-1"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back][data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-plk3gbjq-1"],
			[data-astro-transition=back][data-astro-transition-fallback="old"][data-astro-transition-scope="astro-plk3gbjq-1"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back][data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-plk3gbjq-1"],
			[data-astro-transition=back][data-astro-transition-fallback="new"][data-astro-transition-scope="astro-plk3gbjq-1"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }</style><style>[data-astro-transition-scope="astro-36ssibgs-2"] { view-transition-name: python; }@layer astro { ::view-transition-old(python) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }::view-transition-new(python) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back]::view-transition-old(python) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back]::view-transition-new(python) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; } }[data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-36ssibgs-2"],
			[data-astro-transition-fallback="old"][data-astro-transition-scope="astro-36ssibgs-2"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-36ssibgs-2"],
			[data-astro-transition-fallback="new"][data-astro-transition-scope="astro-36ssibgs-2"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back][data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-36ssibgs-2"],
			[data-astro-transition=back][data-astro-transition-fallback="old"][data-astro-transition-scope="astro-36ssibgs-2"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back][data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-36ssibgs-2"],
			[data-astro-transition=back][data-astro-transition-fallback="new"][data-astro-transition-scope="astro-36ssibgs-2"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }</style><style>[data-astro-transition-scope="astro-36ssibgs-3"] { view-transition-name: regular-expression; }@layer astro { ::view-transition-old(regular-expression) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }::view-transition-new(regular-expression) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back]::view-transition-old(regular-expression) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back]::view-transition-new(regular-expression) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; } }[data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-36ssibgs-3"],
			[data-astro-transition-fallback="old"][data-astro-transition-scope="astro-36ssibgs-3"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-36ssibgs-3"],
			[data-astro-transition-fallback="new"][data-astro-transition-scope="astro-36ssibgs-3"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back][data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-36ssibgs-3"],
			[data-astro-transition=back][data-astro-transition-fallback="old"][data-astro-transition-scope="astro-36ssibgs-3"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back][data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-36ssibgs-3"],
			[data-astro-transition=back][data-astro-transition-fallback="new"][data-astro-transition-scope="astro-36ssibgs-3"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }</style></head> <body> <div class="wrapper pt-16 w-full max-w-3xl mx-auto">  <header class="astro-3ef6ksr2"> <a id="skip-to-content" href="#main-content" class="astro-3ef6ksr2">Skip to content</a> <div class="nav-container astro-3ef6ksr2"> <div class="top-nav-wrap astro-3ef6ksr2"> <a href="/" class="logo whitespace-nowrap astro-3ef6ksr2"> <img src="/assets/logo.svg" alt="Qian Jia" width="32" height="32" class="astro-3ef6ksr2"> </a> <nav id="nav-menu" class="astro-3ef6ksr2"> <button class="hamburger-menu focus-outline astro-3ef6ksr2" aria-label="Open Menu" aria-expanded="false" aria-controls="menu-items"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="menu-icon astro-3ef6ksr2"> <line x1="7" y1="12" x2="21" y2="12" class="line astro-3ef6ksr2"></line> <line x1="3" y1="6" x2="21" y2="6" class="line astro-3ef6ksr2"></line> <line x1="12" y1="18" x2="21" y2="18" class="line astro-3ef6ksr2"></line> <line x1="18" y1="6" x2="6" y2="18" class="close astro-3ef6ksr2"></line> <line x1="6" y1="6" x2="18" y2="18" class="close astro-3ef6ksr2"></line> </svg> </button> <ul id="menu-items" class="display-none sm:flex astro-3ef6ksr2"> <li class="astro-3ef6ksr2"> <a href="/posts" class=" astro-3ef6ksr2">
Posts
</a> </li> <li class="astro-3ef6ksr2"> <a href="/tags" class=" astro-3ef6ksr2">
Tags
</a> </li> <li class="astro-3ef6ksr2"> <a href="/about" class=" astro-3ef6ksr2">
About
</a> </li> <li class="astro-3ef6ksr2"> <a href="/search" class="group inline-block hover:text-skin-accent focus-outline p-3 sm:p-1  flex astro-3ef6ksr2" aria-label="search" title="Search"> <svg xmlns="http://www.w3.org/2000/svg" class="scale-125 sm:scale-100 astro-3ef6ksr2"><path d="M19.023 16.977a35.13 35.13 0 0 1-1.367-1.384c-.372-.378-.596-.653-.596-.653l-2.8-1.337A6.962 6.962 0 0 0 16 9c0-3.859-3.14-7-7-7S2 5.141 2 9s3.14 7 7 7c1.763 0 3.37-.66 4.603-1.739l1.337 2.8s.275.224.653.596c.387.363.896.854 1.384 1.367l1.358 1.392.604.646 2.121-2.121-.646-.604c-.379-.372-.885-.866-1.391-1.36zM9 14c-2.757 0-5-2.243-5-5s2.243-5 5-5 5 2.243 5 5-2.243 5-5 5z" class="astro-3ef6ksr2"></path> </svg> <span class="sr-only astro-3ef6ksr2">Search</span> </a> </li> <li class="astro-3ef6ksr2"> <button id="theme-btn" class="focus-outline astro-3ef6ksr2" title="Toggles light & dark" aria-label="auto" aria-live="polite"> <svg xmlns="http://www.w3.org/2000/svg" id="moon-svg" class="astro-3ef6ksr2"> <path d="M20.742 13.045a8.088 8.088 0 0 1-2.077.271c-2.135 0-4.14-.83-5.646-2.336a8.025 8.025 0 0 1-2.064-7.723A1 1 0 0 0 9.73 2.034a10.014 10.014 0 0 0-4.489 2.582c-3.898 3.898-3.898 10.243 0 14.143a9.937 9.937 0 0 0 7.072 2.93 9.93 9.93 0 0 0 7.07-2.929 10.007 10.007 0 0 0 2.583-4.491 1.001 1.001 0 0 0-1.224-1.224zm-2.772 4.301a7.947 7.947 0 0 1-5.656 2.343 7.953 7.953 0 0 1-5.658-2.344c-3.118-3.119-3.118-8.195 0-11.314a7.923 7.923 0 0 1 2.06-1.483 10.027 10.027 0 0 0 2.89 7.848 9.972 9.972 0 0 0 7.848 2.891 8.036 8.036 0 0 1-1.484 2.059z" class="astro-3ef6ksr2"></path> </svg> <svg xmlns="http://www.w3.org/2000/svg" id="sun-svg" class="astro-3ef6ksr2"> <path d="M6.993 12c0 2.761 2.246 5.007 5.007 5.007s5.007-2.246 5.007-5.007S14.761 6.993 12 6.993 6.993 9.239 6.993 12zM12 8.993c1.658 0 3.007 1.349 3.007 3.007S13.658 15.007 12 15.007 8.993 13.658 8.993 12 10.342 8.993 12 8.993zM10.998 19h2v3h-2zm0-17h2v3h-2zm-9 9h3v2h-3zm17 0h3v2h-3zM4.219 18.363l2.12-2.122 1.415 1.414-2.12 2.122zM16.24 6.344l2.122-2.122 1.414 1.414-2.122 2.122zM6.342 7.759 4.22 5.637l1.415-1.414 2.12 2.122zm13.434 10.605-1.414 1.414-2.122-2.122 1.414-1.414z" class="astro-3ef6ksr2"></path> </svg> </button> </li> </ul> </nav> </div> </div> <!-- <Hr /> --> </header>   <div class="mx-auto flex w-full max-w-3xl justify-start px-2 astro-vj4tpspi"> <button class="focus-outline mb-2 mt-8 flex hover:opacity-75 astro-vj4tpspi" onclick="history.back()"> <svg xmlns="http://www.w3.org/2000/svg" class="astro-vj4tpspi"><path d="M13.293 6.293 7.586 12l5.707 5.707 1.414-1.414L10.414 12l4.293-4.293z" class="astro-vj4tpspi"></path> </svg><span class="astro-vj4tpspi">Go back</span> </button> </div> <main id="main-content" class="astro-vj4tpspi"> <h1 class="post-title astro-vj4tpspi" data-astro-transition-scope="astro-plk3gbjq-1">Python笔记：正则表达式</h1> <div class="flex items-center space-x-2 opacity-80 my-2 astro-vj4tpspi"><svg xmlns="http://www.w3.org/2000/svg" class="scale-100 inline-block h-6 w-6 min-w-[1.375rem] fill-skin-base" aria-hidden="true"><path d="M7 11h2v2H7zm0 4h2v2H7zm4-4h2v2h-2zm0 4h2v2h-2zm4-4h2v2h-2zm0 4h2v2h-2z"></path><path d="M5 22h14c1.103 0 2-.897 2-2V6c0-1.103-.897-2-2-2h-2V2h-2v2H9V2H7v2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2zM19 8l.001 12H5V8h14z"></path></svg><span class="sr-only">Published:</span><span class="italic text-base"><time dateTime="2018-04-17T18:37:56.000Z">Apr 17, 2018</time><span aria-hidden="true"> | </span><span class="sr-only"> at </span><span class="text-nowrap">06:37 PM</span></span></div> <article id="article" role="article" class="prose mx-auto mt-8 max-w-3xl astro-vj4tpspi"> <h2 id="基本操作">基本操作</h2>
<p>re模块用于对python的正则表达式的操作：</p>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#98C379">'.'</span><span style="color:#ABB2BF">     默认匹配除\</span><span style="color:#FFFFFF">n之外的任意一个字符，若指定flag DOTALL,则匹配任意字符，包括换行</span></span>
<span class="line"><span style="color:#98C379">'^'</span><span style="color:#ABB2BF">     匹配字符开头，若指定flags </span><span style="color:#D19A66">MULTILINE</span><span style="color:#ABB2BF">,</span><span style="color:#61AFEF">这种也可以匹配上</span><span style="color:#ABB2BF">(</span><span style="color:#C678DD">r</span><span style="color:#E06C75">"^a"</span><span style="color:#ABB2BF">,</span><span style="color:#98C379">"</span><span style="color:#56B6C2">\n</span><span style="color:#98C379">abc</span><span style="color:#56B6C2">\n</span><span style="color:#98C379">eee"</span><span style="color:#ABB2BF">,</span><span style="color:#E06C75;font-style:italic">flags</span><span style="color:#56B6C2">=</span><span style="color:#ABB2BF">re.</span><span style="color:#D19A66">MULTILINE</span><span style="color:#ABB2BF">)</span></span>
<span class="line"><span style="color:#98C379">'$'</span><span style="color:#ABB2BF">     匹配字符结尾，或e.</span><span style="color:#61AFEF">search</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">"foo$"</span><span style="color:#ABB2BF">,</span><span style="color:#98C379">"bfoo</span><span style="color:#56B6C2">\n</span><span style="color:#98C379">sdfsf"</span><span style="color:#ABB2BF">,</span><span style="color:#E06C75;font-style:italic">flags</span><span style="color:#56B6C2">=</span><span style="color:#ABB2BF">re.</span><span style="color:#D19A66">MULTILINE</span><span style="color:#ABB2BF">).</span><span style="color:#61AFEF">group</span><span style="color:#ABB2BF">()也可以</span></span>
<span class="line"><span style="color:#98C379">'*'</span><span style="color:#ABB2BF">     匹配</span><span style="color:#56B6C2">*</span><span style="color:#ABB2BF">号前的字符0次或多次，re.</span><span style="color:#61AFEF">findall</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">"ab*"</span><span style="color:#ABB2BF">,</span><span style="color:#98C379">"cabb3abcbbac"</span><span style="color:#ABB2BF">)  结果为[</span><span style="color:#98C379">'abb'</span><span style="color:#ABB2BF">, </span><span style="color:#98C379">'ab'</span><span style="color:#ABB2BF">, </span><span style="color:#98C379">'a'</span><span style="color:#ABB2BF">]</span></span>
<span class="line"><span style="color:#98C379">'+'</span><span style="color:#ABB2BF">     匹配前一个字符1次或多次，re.</span><span style="color:#61AFEF">findall</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">"ab+"</span><span style="color:#ABB2BF">,</span><span style="color:#98C379">"ab+cd+abb+bba"</span><span style="color:#ABB2BF">) 结果[</span><span style="color:#98C379">'ab'</span><span style="color:#ABB2BF">, </span><span style="color:#98C379">'abb'</span><span style="color:#ABB2BF">]</span></span>
<span class="line"><span style="color:#98C379">'?'</span><span style="color:#ABB2BF">     匹配前一个字符1次或0次</span></span>
<span class="line"><span style="color:#98C379">'{m}'</span><span style="color:#ABB2BF">   匹配前一个字符m次</span></span>
<span class="line"><span style="color:#98C379">'{n,m}'</span><span style="color:#ABB2BF"> 匹配前一个字符n到m次，re.</span><span style="color:#61AFEF">findall</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">"ab{1,3}"</span><span style="color:#ABB2BF">,</span><span style="color:#98C379">"abb abc abbcbbb"</span><span style="color:#ABB2BF">) 结果</span><span style="color:#98C379">'abb'</span><span style="color:#ABB2BF">, </span><span style="color:#98C379">'ab'</span><span style="color:#ABB2BF">, </span><span style="color:#98C379">'abb'</span><span style="color:#ABB2BF">]</span></span>
<span class="line"><span style="color:#98C379">'|'</span><span style="color:#ABB2BF">     匹配</span><span style="color:#56B6C2">|</span><span style="color:#ABB2BF">左或</span><span style="color:#56B6C2">|</span><span style="color:#ABB2BF">右的字符，re.</span><span style="color:#61AFEF">search</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">"abc|ABC"</span><span style="color:#ABB2BF">,</span><span style="color:#98C379">"ABCBabcCD"</span><span style="color:#ABB2BF">).</span><span style="color:#61AFEF">group</span><span style="color:#ABB2BF">() 结果</span><span style="color:#98C379">'ABC'</span></span>
<span class="line"><span style="color:#98C379">'(...)'</span><span style="color:#ABB2BF"> 分组匹配，re.</span><span style="color:#61AFEF">search</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">"(abc)</span><span style="color:#D19A66">{2}</span><span style="color:#98C379">a(123|456)c"</span><span style="color:#ABB2BF">, </span><span style="color:#98C379">"abcabca456c"</span><span style="color:#ABB2BF">).</span><span style="color:#61AFEF">group</span><span style="color:#ABB2BF">() 结果 abcabca456c</span></span>
<span class="line"><span style="color:#98C379">'[a-z]'</span><span style="color:#ABB2BF"> 匹配a到z任意一个字符</span></span>
<span class="line"><span style="color:#98C379">'[^()]'</span><span style="color:#61AFEF"> 匹配除</span><span style="color:#ABB2BF">()以外的任意一个字符</span></span>
<span class="line"><span style="color:#ABB2BF">  </span></span>
<span class="line"><span style="color:#C678DD">r</span><span style="color:#98C379">' '</span><span style="color:#ABB2BF">    转义引号里的字符 针对\</span><span style="color:#FFFFFF">字符  详情查看⑦</span></span>
<span class="line"><span style="color:#98C379">'\A'</span><span style="color:#ABB2BF">    只从字符开头匹配，re.</span><span style="color:#61AFEF">search</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">"\Aabc"</span><span style="color:#ABB2BF">,</span><span style="color:#98C379">"alexabc"</span><span style="color:#ABB2BF">) 是匹配不到的</span></span>
<span class="line"><span style="color:#98C379">'\Z'</span><span style="color:#ABB2BF">    匹配字符结尾，同</span><span style="color:#FFFFFF">$</span></span>
<span class="line"><span style="color:#98C379">'\d'</span><span style="color:#ABB2BF">    匹配数字0</span><span style="color:#56B6C2">-</span><span style="color:#D19A66">9</span></span>
<span class="line"><span style="color:#98C379">'\D'</span><span style="color:#ABB2BF">    匹配非数字</span></span>
<span class="line"><span style="color:#98C379">'\w'</span><span style="color:#ABB2BF">    匹配[A</span><span style="color:#56B6C2">-</span><span style="color:#ABB2BF">Za</span><span style="color:#56B6C2">-</span><span style="color:#ABB2BF">z0</span><span style="color:#56B6C2">-</span><span style="color:#D19A66">9</span><span style="color:#ABB2BF">]</span></span>
<span class="line"><span style="color:#98C379">'\W'</span><span style="color:#ABB2BF">    匹配非[A</span><span style="color:#56B6C2">-</span><span style="color:#ABB2BF">Za</span><span style="color:#56B6C2">-</span><span style="color:#ABB2BF">z0</span><span style="color:#56B6C2">-</span><span style="color:#D19A66">9</span><span style="color:#ABB2BF">]</span></span>
<span class="line"><span style="color:#98C379">'\s'</span><span style="color:#ABB2BF">    匹配空白字符、\</span><span style="color:#FFFFFF">t、\n、\r , re.search("\s+","ab\tc1\n3").group() 结果 '\t'</span></span>
<span class="line"><span style="color:#ABB2BF">    </span></span>
<span class="line"><span style="color:#98C379">'(?P&#x3C;name>...)'</span><span style="color:#ABB2BF"> 分组匹配 re.</span><span style="color:#61AFEF">search</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">"(?P&#x3C;province>[0-9]</span><span style="color:#D19A66">{4}</span><span style="color:#98C379">)(?P&#x3C;city>[0-9]</span><span style="color:#D19A66">{2}</span><span style="color:#98C379">)(?P&#x3C;birthday>[0-9]</span><span style="color:#D19A66">{4}</span><span style="color:#98C379">)"</span><span style="color:#ABB2BF">,</span><span style="color:#98C379">"371481199306143242"</span><span style="color:#ABB2BF">).</span><span style="color:#61AFEF">groupdict</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">"city"</span><span style="color:#ABB2BF">)</span></span>
<span class="line"><span style="color:#ABB2BF">结果{</span><span style="color:#98C379">'province'</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">'3714'</span><span style="color:#ABB2BF">, </span><span style="color:#98C379">'city'</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">'81'</span><span style="color:#ABB2BF">, </span><span style="color:#98C379">'birthday'</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">'1993'</span><span style="color:#ABB2BF">}</span></span>
<span class="line"><span style="color:#ABB2BF">re.</span><span style="color:#D19A66">IGNORECASE</span><span style="color:#ABB2BF">  忽略大小写 re.</span><span style="color:#61AFEF">search</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">'(\A|\s)red(\s+|$)'</span><span style="color:#ABB2BF">,i,re.</span><span style="color:#D19A66">IGNORECASE</span><span style="color:#ABB2BF">)</span></span></code></pre>
<p>标志位即模式修正符，不改变正则表达式的情况下，通过模式修正符改变正则表达式的含义，从而实现一些匹配结果的调整等功能：　</p>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic"># flags</span></span>
<span class="line"><span style="color:#ABB2BF">I </span><span style="color:#56B6C2">=</span><span style="color:#D19A66"> IGNORECASE</span><span style="color:#56B6C2"> =</span><span style="color:#ABB2BF"> sre_compile.</span><span style="color:#D19A66">SRE_FLAG_IGNORECASE</span><span style="color:#7F848E;font-style:italic"> # ignore case　　匹配时忽略大小写</span></span>
<span class="line"><span style="color:#ABB2BF">L </span><span style="color:#56B6C2">=</span><span style="color:#D19A66"> LOCALE</span><span style="color:#56B6C2"> =</span><span style="color:#ABB2BF"> sre_compile.</span><span style="color:#D19A66">SRE_FLAG_LOCALE</span><span style="color:#7F848E;font-style:italic"> # assume current 8-bit locale   做本地化识别匹配</span></span>
<span class="line"><span style="color:#ABB2BF">U </span><span style="color:#56B6C2">=</span><span style="color:#D19A66"> UNICODE</span><span style="color:#56B6C2"> =</span><span style="color:#ABB2BF"> sre_compile.</span><span style="color:#D19A66">SRE_FLAG_UNICODE</span><span style="color:#7F848E;font-style:italic"> # assume unicode locale       根据Unicode字符及解析字符</span></span>
<span class="line"><span style="color:#ABB2BF">M </span><span style="color:#56B6C2">=</span><span style="color:#D19A66"> MULTILINE</span><span style="color:#56B6C2"> =</span><span style="color:#ABB2BF"> sre_compile.</span><span style="color:#D19A66">SRE_FLAG_MULTILINE</span><span style="color:#7F848E;font-style:italic"> # make anchors look for newline   多行匹配</span></span>
<span class="line"><span style="color:#ABB2BF">S </span><span style="color:#56B6C2">=</span><span style="color:#D19A66"> DOTALL</span><span style="color:#56B6C2"> =</span><span style="color:#ABB2BF"> sre_compile.</span><span style="color:#D19A66">SRE_FLAG_DOTALL</span><span style="color:#7F848E;font-style:italic"> # make dot match newline      让.匹配包括换行符，即用了该模式修正后，"."匹配就可以匹配任意的字符了</span></span>
<span class="line"><span style="color:#ABB2BF">X </span><span style="color:#56B6C2">=</span><span style="color:#D19A66"> VERBOSE</span><span style="color:#56B6C2"> =</span><span style="color:#ABB2BF"> sre_compile.</span><span style="color:#D19A66">SRE_FLAG_VERBOSE</span><span style="color:#7F848E;font-style:italic"> # ignore whitespace and comments</span></span></code></pre>
<h2 id="贪婪模式懒惰模式">贪婪模式、懒惰模式</h2>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#C678DD">import</span><span style="color:#ABB2BF"> re</span></span>
<span class="line"><span style="color:#ABB2BF"> </span></span>
<span class="line"><span style="color:#ABB2BF">result1 </span><span style="color:#56B6C2">=</span><span style="color:#ABB2BF">  re.</span><span style="color:#61AFEF">search</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">"p.*y"</span><span style="color:#ABB2BF">,</span><span style="color:#98C379">"abcdfphp435pythony_py"</span><span style="color:#ABB2BF">)   </span><span style="color:#7F848E;font-style:italic"># 贪婪模式</span></span>
<span class="line"><span style="color:#56B6C2">print</span><span style="color:#ABB2BF">(result1)</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic"># &#x3C;_sre.SRE_Match object; span=(5, 21), match='php435pythony_py'></span></span>
<span class="line"><span style="color:#ABB2BF"> </span></span>
<span class="line"><span style="color:#ABB2BF">result2 </span><span style="color:#56B6C2">=</span><span style="color:#ABB2BF">  re.</span><span style="color:#61AFEF">search</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">"p.*?y"</span><span style="color:#ABB2BF">,</span><span style="color:#98C379">"abcdfphp435pythony_py"</span><span style="color:#ABB2BF">)   </span><span style="color:#7F848E;font-style:italic"># 懒惰模式</span></span>
<span class="line"><span style="color:#56B6C2">print</span><span style="color:#ABB2BF">(result2)</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic"># &#x3C;_sre.SRE_Match object; span=(5, 13), match='php435py'></span></span></code></pre>
<h2 id="match">match</h2>
<p>从起始位置开始根据模型去字符串中匹配指定内容：</p>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic">#match</span></span>
<span class="line"><span style="color:#C678DD">import</span><span style="color:#ABB2BF"> re                              </span></span>
<span class="line"><span style="color:#ABB2BF"> </span></span>
<span class="line"><span style="color:#ABB2BF">obj </span><span style="color:#56B6C2">=</span><span style="color:#ABB2BF"> re.</span><span style="color:#61AFEF">match</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">'\d+'</span><span style="color:#ABB2BF">, </span><span style="color:#98C379">'123uua123sf'</span><span style="color:#ABB2BF">)       </span><span style="color:#7F848E;font-style:italic">#从第一个字符开始匹配一个到多个数字</span></span>
<span class="line"><span style="color:#56B6C2">print</span><span style="color:#ABB2BF">(obj)                               </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic">#&#x3C;_sre.SRE_Match object; span=(0, 3), match='123'></span></span>
<span class="line"><span style="color:#ABB2BF"> </span></span>
<span class="line"><span style="color:#C678DD">if</span><span style="color:#ABB2BF"> obj:                                   </span><span style="color:#7F848E;font-style:italic">#如果有匹配到字符则执行，为空不执行</span></span>
<span class="line"><span style="color:#56B6C2">    print</span><span style="color:#ABB2BF">(obj.</span><span style="color:#61AFEF">group</span><span style="color:#ABB2BF">())                    </span><span style="color:#7F848E;font-style:italic">#打印匹配到的内容</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic">#123</span></span></code></pre>
<p>匹配ip地址：</p>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#C678DD">import</span><span style="color:#ABB2BF"> re</span></span>
<span class="line"><span style="color:#ABB2BF"> </span></span>
<span class="line"><span style="color:#ABB2BF">ip </span><span style="color:#56B6C2">=</span><span style="color:#98C379"> '255.255.255.253'</span></span>
<span class="line"><span style="color:#ABB2BF">result</span><span style="color:#56B6C2">=</span><span style="color:#ABB2BF">re.</span><span style="color:#61AFEF">match</span><span style="color:#ABB2BF">(</span><span style="color:#C678DD">r</span><span style="color:#E06C75">'^</span><span style="color:#D19A66">([1-9]?</span><span style="color:#E06C75">\d</span><span style="color:#ABB2BF">|</span><span style="color:#E06C75">1\d\d</span><span style="color:#ABB2BF">|</span><span style="color:#E06C75">2</span><span style="color:#D19A66">[0-4]</span><span style="color:#E06C75">\d</span><span style="color:#ABB2BF">|</span><span style="color:#E06C75">25</span><span style="color:#D19A66">[0-5])</span><span style="color:#56B6C2">\.</span><span style="color:#D19A66">([1-9]?</span><span style="color:#E06C75">\d</span><span style="color:#ABB2BF">|</span><span style="color:#E06C75">1\d\d</span><span style="color:#ABB2BF">|</span><span style="color:#E06C75">2</span><span style="color:#D19A66">[0-4]</span><span style="color:#E06C75">\d</span><span style="color:#ABB2BF">|</span><span style="color:#E06C75">25</span><span style="color:#D19A66">[0-5])</span><span style="color:#56B6C2">\.</span><span style="color:#E06C75">'</span></span>
<span class="line"><span style="color:#C678DD">                r</span><span style="color:#E06C75">'</span><span style="color:#D19A66">([1-9]?</span><span style="color:#E06C75">\d</span><span style="color:#ABB2BF">|</span><span style="color:#E06C75">1\d\d</span><span style="color:#ABB2BF">|</span><span style="color:#E06C75">2</span><span style="color:#D19A66">[0-4]</span><span style="color:#E06C75">\d</span><span style="color:#ABB2BF">|</span><span style="color:#E06C75">25</span><span style="color:#D19A66">[0-5])</span><span style="color:#56B6C2">\.</span><span style="color:#D19A66">([1-9]?</span><span style="color:#E06C75">\d</span><span style="color:#ABB2BF">|</span><span style="color:#E06C75">1\d\d</span><span style="color:#ABB2BF">|</span><span style="color:#E06C75">2</span><span style="color:#D19A66">[0-4]</span><span style="color:#E06C75">\d</span><span style="color:#ABB2BF">|</span><span style="color:#E06C75">25</span><span style="color:#D19A66">[0-5])</span><span style="color:#E06C75">$'</span><span style="color:#ABB2BF">,ip)</span></span>
<span class="line"><span style="color:#56B6C2">print</span><span style="color:#ABB2BF">(result)</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic"># &#x3C;_sre.SRE_Match object; span=(0, 15), match='255.255.255.253'></span></span></code></pre>
<h2 id="search">search</h2>
<p>根据模型去字符串中匹配指定内容（不一定是最开始位置），匹配最前</p>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic">#search</span></span>
<span class="line"><span style="color:#C678DD">import</span><span style="color:#ABB2BF">  re</span></span>
<span class="line"><span style="color:#ABB2BF">obj </span><span style="color:#56B6C2">=</span><span style="color:#ABB2BF"> re.</span><span style="color:#61AFEF">search</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">'\d+'</span><span style="color:#ABB2BF">, </span><span style="color:#98C379">'a123uu234asf'</span><span style="color:#ABB2BF">)     </span><span style="color:#7F848E;font-style:italic">#从数字开始匹配一个到多个数字</span></span>
<span class="line"><span style="color:#56B6C2">print</span><span style="color:#ABB2BF">(obj)</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic">#&#x3C;_sre.SRE_Match object; span=(1, 4), match='123'></span></span>
<span class="line"><span style="color:#ABB2BF"> </span></span>
<span class="line"><span style="color:#C678DD">if</span><span style="color:#ABB2BF"> obj:                                   </span><span style="color:#7F848E;font-style:italic">#如果有匹配到字符则执行，为空不执行</span></span>
<span class="line"><span style="color:#56B6C2">    print</span><span style="color:#ABB2BF">(obj.</span><span style="color:#61AFEF">group</span><span style="color:#ABB2BF">())                    </span><span style="color:#7F848E;font-style:italic">#打印匹配到的内容</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic">#123</span></span>
<span class="line"><span style="color:#ABB2BF"> </span></span>
<span class="line"><span style="color:#ABB2BF"> </span></span>
<span class="line"><span style="color:#C678DD">import</span><span style="color:#ABB2BF">  re</span></span>
<span class="line"><span style="color:#ABB2BF">obj </span><span style="color:#56B6C2">=</span><span style="color:#ABB2BF"> re.</span><span style="color:#61AFEF">search</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">'\([^()]+\)'</span><span style="color:#ABB2BF">, </span><span style="color:#98C379">'sdds(a1fwewe2(3uusfdsf2)34as)f'</span><span style="color:#ABB2BF">)     </span><span style="color:#7F848E;font-style:italic">#匹配最里面（）的内容</span></span>
<span class="line"><span style="color:#56B6C2">print</span><span style="color:#ABB2BF">(obj)</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic">#&#x3C;_sre.SRE_Match object; span=(13, 24), match='(3uusfdsf2)'></span></span>
<span class="line"><span style="color:#ABB2BF"> </span></span>
<span class="line"><span style="color:#C678DD">if</span><span style="color:#ABB2BF"> obj:                                   </span><span style="color:#7F848E;font-style:italic">#如果有匹配到字符则执行，为空不执行</span></span>
<span class="line"><span style="color:#56B6C2">    print</span><span style="color:#ABB2BF">(obj.</span><span style="color:#61AFEF">group</span><span style="color:#ABB2BF">())                    </span><span style="color:#7F848E;font-style:italic">#打印匹配到的内容</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic">#(3uusfdsf2)</span></span></code></pre>
<h2 id="group与groups的区别">group与groups的区别</h2>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic">#group与groups的区别</span></span>
<span class="line"><span style="color:#C678DD">import</span><span style="color:#ABB2BF">  re</span></span>
<span class="line"><span style="color:#ABB2BF">a </span><span style="color:#56B6C2">=</span><span style="color:#98C379"> "123abc456"</span></span>
<span class="line"><span style="color:#ABB2BF">b </span><span style="color:#56B6C2">=</span><span style="color:#ABB2BF"> re.</span><span style="color:#61AFEF">search</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">"([0-9]*)([a-z]*)([0-9]*)"</span><span style="color:#ABB2BF">, a)</span></span>
<span class="line"><span style="color:#56B6C2">print</span><span style="color:#ABB2BF">(b)</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic">#&#x3C;_sre.SRE_Match object; span=(0, 9), match='123abc456'></span></span>
<span class="line"><span style="color:#56B6C2">print</span><span style="color:#ABB2BF">(b.</span><span style="color:#61AFEF">group</span><span style="color:#ABB2BF">())</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic">#123abc456</span></span>
<span class="line"><span style="color:#56B6C2">print</span><span style="color:#ABB2BF">(b.</span><span style="color:#61AFEF">group</span><span style="color:#ABB2BF">(</span><span style="color:#D19A66">0</span><span style="color:#ABB2BF">))</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic">#123abc456</span></span>
<span class="line"><span style="color:#56B6C2">print</span><span style="color:#ABB2BF">(b.</span><span style="color:#61AFEF">group</span><span style="color:#ABB2BF">(</span><span style="color:#D19A66">1</span><span style="color:#ABB2BF">))</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic">#123</span></span>
<span class="line"><span style="color:#56B6C2">print</span><span style="color:#ABB2BF">(b.</span><span style="color:#61AFEF">group</span><span style="color:#ABB2BF">(</span><span style="color:#D19A66">2</span><span style="color:#ABB2BF">))</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic">#abc</span></span>
<span class="line"><span style="color:#56B6C2">print</span><span style="color:#ABB2BF">(b.</span><span style="color:#61AFEF">group</span><span style="color:#ABB2BF">(</span><span style="color:#D19A66">3</span><span style="color:#ABB2BF">))</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic">#456</span></span>
<span class="line"><span style="color:#56B6C2">print</span><span style="color:#ABB2BF">(b.</span><span style="color:#61AFEF">groups</span><span style="color:#ABB2BF">())</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic">#('123', 'abc', '456')</span></span></code></pre>
<h2 id="findall">findall</h2>
<p>上述两中方式均用于匹配单值，即：只能匹配字符串中的一个，如果想要匹配到字符串中所有符合条件的元素，则需要使用 findall；findall没有group用法</p>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic">#findall</span></span>
<span class="line"><span style="color:#C678DD">import</span><span style="color:#ABB2BF">  re</span></span>
<span class="line"><span style="color:#ABB2BF">obj </span><span style="color:#56B6C2">=</span><span style="color:#ABB2BF"> re.</span><span style="color:#61AFEF">findall</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">'\d+'</span><span style="color:#ABB2BF">, </span><span style="color:#98C379">'a123uu234asf'</span><span style="color:#ABB2BF">)     </span><span style="color:#7F848E;font-style:italic">#匹配多个</span></span>
<span class="line"><span style="color:#ABB2BF"> </span></span>
<span class="line"><span style="color:#C678DD">if</span><span style="color:#ABB2BF"> obj:                                   </span><span style="color:#7F848E;font-style:italic">#如果有匹配到字符则执行，为空不执行</span></span>
<span class="line"><span style="color:#56B6C2">    print</span><span style="color:#ABB2BF">(obj)                             </span><span style="color:#7F848E;font-style:italic">#生成的内容为列表</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic">#['123', '234']</span></span></code></pre>
<h2 id="sub">sub</h2>
<p>用于替换匹配的字符串(pattern, repl, string, count=0, flags=0)</p>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic">#sub</span></span>
<span class="line"><span style="color:#C678DD">import</span><span style="color:#ABB2BF">  re</span></span>
<span class="line"><span style="color:#ABB2BF"> </span></span>
<span class="line"><span style="color:#ABB2BF">content </span><span style="color:#56B6C2">=</span><span style="color:#98C379"> "123abc456"</span></span>
<span class="line"><span style="color:#ABB2BF">new_content </span><span style="color:#56B6C2">=</span><span style="color:#ABB2BF"> re.</span><span style="color:#61AFEF">sub</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">'\d+'</span><span style="color:#ABB2BF">, </span><span style="color:#98C379">'ABC'</span><span style="color:#ABB2BF">, content)</span></span>
<span class="line"><span style="color:#56B6C2">print</span><span style="color:#ABB2BF">(new_content)</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic">#ABCabcABC</span></span></code></pre>
<h2 id="split">split</h2>
<p>根据指定匹配进行分组(pattern, string, maxsplit=0, flags=0)</p>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic">#split</span></span>
<span class="line"><span style="color:#C678DD">import</span><span style="color:#ABB2BF">  re</span></span>
<span class="line"><span style="color:#ABB2BF"> </span></span>
<span class="line"><span style="color:#ABB2BF">content </span><span style="color:#56B6C2">=</span><span style="color:#98C379"> "1 - 2 * ((60-30+1*(9-2*5/3+7/3*99/4*2998+10*568/14))-(-4*3)/(16-3*2) )"</span></span>
<span class="line"><span style="color:#ABB2BF">new_content </span><span style="color:#56B6C2">=</span><span style="color:#ABB2BF"> re.</span><span style="color:#61AFEF">split</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">'\*'</span><span style="color:#ABB2BF">, content)       </span><span style="color:#7F848E;font-style:italic">#用*进行分割，分割为列表</span></span>
<span class="line"><span style="color:#56B6C2">print</span><span style="color:#ABB2BF">(new_content)</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic">#['1 - 2 ', ' ((60-30+1', '(9-2', '5/3+7/3', '99/4', '2998+10', '568/14))-(-4', '3)/(16-3', '2) )']</span></span>
<span class="line"><span style="color:#ABB2BF"> </span></span>
<span class="line"><span style="color:#ABB2BF">content </span><span style="color:#56B6C2">=</span><span style="color:#98C379"> "'1 - 2 * ((60-30+1*(9-2*5/3+7/3*99/4*2998+10*568/14))-(-4*3)/(16-3*2) )'"</span></span>
<span class="line"><span style="color:#ABB2BF">new_content </span><span style="color:#56B6C2">=</span><span style="color:#ABB2BF"> re.</span><span style="color:#61AFEF">split</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">'[\+\-\*\/]+'</span><span style="color:#ABB2BF">, content)</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic"># new_content = re.split('\*', content, 1)</span></span>
<span class="line"><span style="color:#56B6C2">print</span><span style="color:#ABB2BF">(new_content)</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic">#["'1 ", ' 2 ', ' ((60', '30', '1', '(9', '2', '5', '3', '7', '3', '99', '4', '2998', '10', '568', '14))',</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic">#  '(', '4', '3)', '(16', '3', "2) )'"]</span></span>
<span class="line"><span style="color:#ABB2BF"> </span></span>
<span class="line"><span style="color:#ABB2BF">inpp </span><span style="color:#56B6C2">=</span><span style="color:#98C379"> '1-2*((60-30 +(-40-5)*(9-2*5/3 + 7 /3*99/4*2998 +10 * 568/14 )) - (-4*3)/ (16-3*2))'</span></span>
<span class="line"><span style="color:#ABB2BF">inpp </span><span style="color:#56B6C2">=</span><span style="color:#ABB2BF"> re.</span><span style="color:#61AFEF">sub</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">'\s*'</span><span style="color:#ABB2BF">,</span><span style="color:#98C379">''</span><span style="color:#ABB2BF">,inpp)                </span><span style="color:#7F848E;font-style:italic">#把空白字符去掉</span></span>
<span class="line"><span style="color:#56B6C2">print</span><span style="color:#ABB2BF">(inpp)</span></span>
<span class="line"><span style="color:#ABB2BF">new_content </span><span style="color:#56B6C2">=</span><span style="color:#ABB2BF"> re.</span><span style="color:#61AFEF">split</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">'\(([\+\-\*\/]?\d+[\+\-\*\/]?\d+)</span><span style="color:#D19A66">{1}</span><span style="color:#98C379">\)'</span><span style="color:#ABB2BF">, inpp, </span><span style="color:#D19A66">1</span><span style="color:#ABB2BF">)</span></span>
<span class="line"><span style="color:#56B6C2">print</span><span style="color:#ABB2BF">(new_content)</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic">#['1-2*((60-30+', '-40-5', '*(9-2*5/3+7/3*99/4*2998+10*568/14))-(-4*3)/(16-3*2))']</span></span></code></pre>
<h2 id="补充r--转义">补充r’ ’ 转义</h2>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic">#首先要清楚，程序读取文件里的\字符时，添加到列表里面的是\\</span></span>
<span class="line"><span style="color:#C678DD">import</span><span style="color:#ABB2BF"> re,sys</span></span>
<span class="line"><span style="color:#ABB2BF">li </span><span style="color:#56B6C2">=</span><span style="color:#ABB2BF"> []</span></span>
<span class="line"><span style="color:#C678DD">with</span><span style="color:#56B6C2"> open</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">'lzl.txt'</span><span style="color:#ABB2BF">,</span><span style="color:#98C379">'r'</span><span style="color:#ABB2BF">,</span><span style="color:#E06C75;font-style:italic">encoding</span><span style="color:#56B6C2">=</span><span style="color:#98C379">"utf-8"</span><span style="color:#ABB2BF">) </span><span style="color:#C678DD">as</span><span style="color:#E06C75"> file</span><span style="color:#ABB2BF">:</span></span>
<span class="line"><span style="color:#C678DD">    for</span><span style="color:#ABB2BF"> line </span><span style="color:#C678DD">in</span><span style="color:#E06C75"> file</span><span style="color:#ABB2BF">:</span></span>
<span class="line"><span style="color:#ABB2BF">        li.</span><span style="color:#61AFEF">append</span><span style="color:#ABB2BF">(line)</span></span>
<span class="line"><span style="color:#56B6C2">print</span><span style="color:#ABB2BF">(li)                   </span><span style="color:#7F848E;font-style:italic"># 注意：文件中的单斜杠，读出来后会变成双斜杠</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic"># ['fdfdsfds\\fds\n', 'sfdsfds&#x26; @$']</span></span>
<span class="line"><span style="color:#56B6C2">print</span><span style="color:#ABB2BF">(li[</span><span style="color:#D19A66">0</span><span style="color:#ABB2BF">])                </span><span style="color:#7F848E;font-style:italic"># print打印的时候还是单斜杠</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic"># fdfdsfds\fds</span></span></code></pre>
<p>r字符的意义，对字符\进行转义，\只做为字符出现：</p>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#C678DD">import</span><span style="color:#ABB2BF"> re,sys</span></span>
<span class="line"><span style="color:#ABB2BF">li </span><span style="color:#56B6C2">=</span><span style="color:#ABB2BF"> []</span></span>
<span class="line"><span style="color:#C678DD">with</span><span style="color:#56B6C2"> open</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">'lzl.txt'</span><span style="color:#ABB2BF">,</span><span style="color:#98C379">'r'</span><span style="color:#ABB2BF">,</span><span style="color:#E06C75;font-style:italic">encoding</span><span style="color:#56B6C2">=</span><span style="color:#98C379">"utf-8"</span><span style="color:#ABB2BF">) </span><span style="color:#C678DD">as</span><span style="color:#E06C75"> file</span><span style="color:#ABB2BF">:</span></span>
<span class="line"><span style="color:#C678DD">    for</span><span style="color:#ABB2BF"> line </span><span style="color:#C678DD">in</span><span style="color:#E06C75"> file</span><span style="color:#ABB2BF">:</span></span>
<span class="line"><span style="color:#56B6C2">        print</span><span style="color:#ABB2BF">(re.</span><span style="color:#61AFEF">findall</span><span style="color:#ABB2BF">(</span><span style="color:#C678DD">r</span><span style="color:#E06C75">'s</span><span style="color:#56B6C2">\\</span><span style="color:#E06C75">f'</span><span style="color:#ABB2BF">, line))  </span><span style="color:#7F848E;font-style:italic">#第一种方式匹配</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic">        # print(re.findall('\\\\', line))  #第二种方式匹配</span></span>
<span class="line"><span style="color:#ABB2BF">        li.</span><span style="color:#61AFEF">append</span><span style="color:#ABB2BF">(line)</span></span>
<span class="line"><span style="color:#56B6C2">print</span><span style="color:#ABB2BF">(li)                   </span><span style="color:#7F848E;font-style:italic"># 注意：文件中的单斜杠，读出来后会变成双斜杠</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic"># ['s\\f']</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic"># []</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic"># ['fdfdsfds\\fds\n', 'sfdsfds&#x26; @$']</span></span></code></pre>
<p>补充：看完下面的代码你可能更懵了</p>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#C678DD">import</span><span style="color:#ABB2BF"> re</span></span>
<span class="line"><span style="color:#ABB2BF">re.</span><span style="color:#61AFEF">findall</span><span style="color:#ABB2BF">(</span><span style="color:#C678DD">r</span><span style="color:#E06C75">'</span><span style="color:#56B6C2">\\</span><span style="color:#E06C75">'</span><span style="color:#ABB2BF">, line)  </span><span style="color:#7F848E;font-style:italic"># 正则中只能这样写 不能写成 r'\' 这样</span></span>
<span class="line"><span style="color:#56B6C2">print</span><span style="color:#ABB2BF">(</span><span style="color:#C678DD">r</span><span style="color:#E06C75">'</span><span style="color:#56B6C2">\\</span><span style="color:#E06C75">'</span><span style="color:#ABB2BF">)            </span><span style="color:#7F848E;font-style:italic"># 只能这样写 不能写成r'\' \只能是双数</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic"># \\        结果</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic"># 如果想值打印单个\ 写成如下</span></span>
<span class="line"><span style="color:#56B6C2">print</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">'</span><span style="color:#56B6C2">\\</span><span style="color:#98C379">'</span><span style="color:#ABB2BF">)             </span><span style="color:#7F848E;font-style:italic"># 只能是双数</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic"># \         结果</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic">#总结：文件中的单斜杠\，读出到程序中时是双斜杠\\，print打印出来是单斜杠\；正则匹配文件但斜杠\时,用r'\\'双斜杠去匹配，或者不用r直接用'\\\\'四个斜杠去匹配</span></span></code></pre>
<h2 id="compile函数">compile函数</h2>
<p>说明：</p>
<p>Python通过re模块提供对正则表达式的支持。使用re的一般步骤是先使用re.compile()函数，将正则表达式的字符串形式编译为Pattern实例，然后使用Pattern实例处理文本并获得匹配结果（一个Match实例），最后使用Match实例获得信息，进行其他的操作。</p>
<p>举一个简单的例子，在寻找一个字符串中所有的英文字符：</p>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#C678DD">import</span><span style="color:#ABB2BF"> re</span></span>
<span class="line"><span style="color:#ABB2BF">pattern </span><span style="color:#56B6C2">=</span><span style="color:#ABB2BF"> re.</span><span style="color:#61AFEF">compile</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">'[a-zA-Z]'</span><span style="color:#ABB2BF">)</span></span>
<span class="line"><span style="color:#ABB2BF">result </span><span style="color:#56B6C2">=</span><span style="color:#ABB2BF"> pattern.</span><span style="color:#61AFEF">findall</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">'as3SiOPdj#@23awe'</span><span style="color:#ABB2BF">)</span></span>
<span class="line"><span style="color:#56B6C2">print</span><span style="color:#ABB2BF">(result)</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic"># ['a', 's', 'S', 'i', 'O', 'P', 'd', 'j', 'a', 'w', 'e']</span></span></code></pre>
<p>匹配IP地址（255.255.255.255）：　</p>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0"><code><span class="line"><span style="color:#C678DD">import</span><span style="color:#ABB2BF"> re</span></span>
<span class="line"><span style="color:#ABB2BF"> </span></span>
<span class="line"><span style="color:#ABB2BF">pattern </span><span style="color:#56B6C2">=</span><span style="color:#ABB2BF"> re.</span><span style="color:#61AFEF">compile</span><span style="color:#ABB2BF">(</span><span style="color:#C678DD">r</span><span style="color:#E06C75">'^</span><span style="color:#D19A66">(([1-9]?</span><span style="color:#E06C75">\d</span><span style="color:#ABB2BF">|</span><span style="color:#E06C75">1\d\d</span><span style="color:#ABB2BF">|</span><span style="color:#E06C75">2</span><span style="color:#D19A66">[0-4]</span><span style="color:#E06C75">\d</span><span style="color:#ABB2BF">|</span><span style="color:#E06C75">25</span><span style="color:#D19A66">[0-5])</span><span style="color:#56B6C2">\.</span><span style="color:#D19A66">){3}([1-9]?</span><span style="color:#E06C75">\d</span><span style="color:#ABB2BF">|</span><span style="color:#E06C75">1\d\d</span><span style="color:#ABB2BF">|</span><span style="color:#E06C75">2</span><span style="color:#D19A66">[0-4]</span><span style="color:#E06C75">\d</span><span style="color:#ABB2BF">|</span><span style="color:#E06C75">25</span><span style="color:#D19A66">[0-5])</span><span style="color:#E06C75">$'</span><span style="color:#ABB2BF">)</span></span>
<span class="line"><span style="color:#ABB2BF">result </span><span style="color:#56B6C2">=</span><span style="color:#ABB2BF"> pattern.</span><span style="color:#61AFEF">match</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">'255.255.255.255'</span><span style="color:#ABB2BF">)</span></span>
<span class="line"><span style="color:#56B6C2">print</span><span style="color:#ABB2BF">(result)</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic"># &#x3C;_sre.SRE_Match object; span=(0, 15), match='255.255.255.255'></span></span></code></pre> </article> <ul class="my-8 astro-vj4tpspi"> <li class="inline-block my-1 underline-offset-4 astro-blwjyjpt"> <a href="/tags/python" class="text-sm pr-2 group astro-blwjyjpt" data-astro-transition-scope="astro-36ssibgs-2"> <svg xmlns="http://www.w3.org/2000/svg" class=" scale-75 astro-blwjyjpt"><path d="M16.018 3.815 15.232 8h-4.966l.716-3.815-1.964-.37L8.232 8H4v2h3.857l-.751 4H3v2h3.731l-.714 3.805 1.965.369L8.766 16h4.966l-.714 3.805 1.965.369.783-4.174H20v-2h-3.859l.751-4H21V8h-3.733l.716-3.815-1.965-.37zM14.106 14H9.141l.751-4h4.966l-.752 4z" class="astro-blwjyjpt"></path> </svg>
&nbsp;<span class="astro-blwjyjpt">python</span> </a> </li> <li class="inline-block my-1 underline-offset-4 astro-blwjyjpt"> <a href="/tags/regular-expression" class="text-sm pr-2 group astro-blwjyjpt" data-astro-transition-scope="astro-36ssibgs-3"> <svg xmlns="http://www.w3.org/2000/svg" class=" scale-75 astro-blwjyjpt"><path d="M16.018 3.815 15.232 8h-4.966l.716-3.815-1.964-.37L8.232 8H4v2h3.857l-.751 4H3v2h3.731l-.714 3.805 1.965.369L8.766 16h4.966l-.714 3.805 1.965.369.783-4.174H20v-2h-3.859l.751-4H21V8h-3.733l.716-3.815-1.965-.37zM14.106 14H9.141l.751-4h4.966l-.752 4z" class="astro-blwjyjpt"></path> </svg>
&nbsp;<span class="astro-blwjyjpt">regular-expression</span> </a> </li>  </ul> <!--
    <div
      class="flex flex-col-reverse items-center justify-between gap-6 sm:flex-row-reverse sm:items-end sm:gap-4"
    >
      <button
        id="back-to-top"
        class="focus-outline whitespace-nowrap py-1 hover:opacity-75"
      >
        <svg xmlns="http://www.w3.org/2000/svg" class="rotate-90">
          <path
            d="M13.293 6.293 7.586 12l5.707 5.707 1.414-1.414L10.414 12l4.293-4.293z"
          ></path>
        </svg>
        <span>Back to Top</span>
      </button>

      <ShareLinks />
    </div>
--> <section class="giscus mx-auto mt-10 w-full"></section> <script src="https://giscus.app/client.js" data-repo="qian-jia/qian-jia.github.io" data-repo-id="R_kgDOLH5NfA" data-category="Blog Comments" data-category-id="DIC_kwDOLH5NfM4Ccnv7" data-mapping="url" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="bottom" data-theme="transparent_dark" data-lang="en" data-loading="lazy" crossorigin="anonymous" async>
</script> </main> <footer class="mt-auto astro-sz7xmlte"> <div class="max-w-3xl mx-auto px-0"> <hr class="border-skin-line" aria-hidden="true"> </div> <div class="footer-wrapper astro-sz7xmlte"> <div class="social-icons flex astro-upu6fzxr">  </div>  <div class="copyright-wrapper astro-sz7xmlte"> <span class="astro-sz7xmlte">Copyright &#169; 2024</span> <span class="separator astro-sz7xmlte">&nbsp;|&nbsp;</span> <span class="astro-sz7xmlte">All rights reserved.</span> </div> </div> </footer>   </div> </body></html>  <script>
  /** Attaches links to headings in the document,
   *  allowing sharing of sections easily */
  function addHeadingLinks() {
    let headings = Array.from(document.querySelectorAll("h2, h3, h4, h5, h6"));
    for (let heading of headings) {
      heading.classList.add("group")
      let link = document.createElement("a");
      link.innerText = "#";
      link.className = "heading-link hidden group-hover:inline-block ml-2";
      link.href = "#" + heading.id;
      link.ariaHidden = true;
      heading.appendChild(link);
    }
  }
  addHeadingLinks();

  /** Attaches copy buttons to code blocks in the document,
   * allowing users to copy code easily. */
  function attachCopyButtons() {
    let copyButtonLabel = "Copy";
    let codeBlocks = Array.from(document.querySelectorAll("pre"));

    for (let codeBlock of codeBlocks) {
      let wrapper = document.createElement("div");
      wrapper.style.position = "relative";

      let copyButton = document.createElement("button");
      copyButton.className =
        "copy-code absolute right-3 -top-3 rounded bg-skin-card px-2 py-1 text-xs leading-4 text-skin-base font-medium";
      copyButton.innerHTML = copyButtonLabel;
      codeBlock.setAttribute("tabindex", "0");
      codeBlock.appendChild(copyButton);

      // wrap codebock with relative parent element
      codeBlock.parentNode.insertBefore(wrapper, codeBlock);
      wrapper.appendChild(codeBlock);

      copyButton.addEventListener("click", async () => {
        await copyCode(codeBlock, copyButton);
      });
    }

    async function copyCode(block, button) {
      let code = block.querySelector("code");
      let text = code.innerText;

      await navigator.clipboard.writeText(text);

      // visual feedback that task is completed
      button.innerText = "Copied";

      setTimeout(() => {
        button.innerText = copyButtonLabel;
      }, 700);
    }
  }
  attachCopyButtons();
  document.addEventListener("astro:after-swap", attachCopyButtons);

  /** Scrolls the document to the top when
   * the "Back to Top" button is clicked. */
  function backToTop() {
    document.querySelector("#back-to-top")?.addEventListener("click", () => {
      document.body.scrollTop = 0; // For Safari
      document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
    });
  }
  backToTop();
  document.addEventListener("astro:after-swap", backToTop);
</script>